@using _3DAL_Celebrity_MSSQL;
@model aspa008.Controllers.CelebritiesController.IndexModel
@{
    Layout = null;
    int h = 150, w = 0;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <img id="0"
        title="New Celebrity"
        src="@Model.PhotosRequestPath/newCelebrity.jpg"
        onload="onPhotoLoad(this,@h,@w"
        onclick="onPhotoClick(0)"/>
        @foreach (Celebrity celebrity in Model.Celebrities)
    {
        <img id="@celebrity.Id"
        title="@celebrity.FullName"
        src="@Model.PhotosRequestPath/@celebrity.ReqPhotoPath"
        onload="onPhotoLoad(this,@h,@w)"
        onclick="onPhotoClick(@celebrity.Id)"/>
    }
</body>
<script>
 function onPhotoLoad(e, h, w) {
        let ratio = e.naturalWidth / e.naturalHeight;

        if (h != 0 && w == 0) {
            e.width = Math.round(ratio * h);
        }
        if (h == 0 && w != 0) {
            e.height = Math.round(w / ratio);
        }
    }
</script>
</html>
