<Window x:Class="lab4.ItemsList"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:lab4"
        xmlns:vm="clr-namespace:lab4.ViewModels"
        xmlns:control="clr-namespace:lab4.userControls"
        xmlns:behaviors="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Background="{DynamicResource BackgroundColor}"
        Title="" Height="700" Width="1000">

    <Window.DataContext>
        <vm:ItemsListViewModel/>
    </Window.DataContext>

    <Window.Resources>
        <Style TargetType="Button" x:Key="AdminAddShipButtonStyle">
            <Setter Property="Background" Value="#007ACC"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <local:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </Window.Resources>

    <Grid x:Name="maingrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="0.25*" MinWidth="200"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <control:HeaderPanel Grid.Column="0" Grid.ColumnSpan="2"/>

        <ScrollViewer Grid.Column="1" Grid.Row="1" Grid.RowSpan="2" VerticalScrollBarVisibility="Auto">
            <ItemsControl ItemsSource="{Binding Ships}" x:Name="shipsControl">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border x:Name="eventborder" BorderBrush="Blue" BorderThickness="1" CornerRadius="5" Margin="10" >
                            <Border.InputBindings>
                                <MouseBinding MouseAction="LeftClick"
                                              Command="{Binding DataContext.ShipDetailsCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                              CommandParameter="{Binding}"/>
                            </Border.InputBindings>
                            <Grid MinWidth="200" Width="350" ShowGridLines="True">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="0.8*"/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Image Source="{Binding ImagePath}" Grid.Row="0" MaxWidth="700" MaxHeight="250" Stretch="UniformToFill"/>
                                <TextBlock Text="{Binding Name}" FontSize="20" Grid.Row="1" HorizontalAlignment="Left"/>
                                <TextBlock Text="{Binding Price}" FontSize="20" Grid.Row="2" HorizontalAlignment="Left"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

        <Frame x:Name="MainFrame" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"/>

        <StackPanel Grid.Row="1" Orientation="Vertical" HorizontalAlignment="Center">
            <Button x:Name="goToYachts" Content="{DynamicResource GoToYachts}" Height="50" Margin="0 50 0 50" FontSize="18"/>
            <TextBlock Text="{DynamicResource SearchByName}" FontSize="20" Margin="0 0 0 10"/>
            <TextBox x:Name="filterName_textbox" Height="30" FontSize="20" Margin="0 0 0 20" TextWrapping="Wrap" Text="{Binding FilterName, UpdateSourceTrigger=PropertyChanged}"/>
            <TextBlock Text="{DynamicResource PriceRange}" FontSize="20" Margin="0 0 0 20"/>
            <StackPanel Orientation="Horizontal">
                <TextBox Text="{Binding MinPrice, UpdateSourceTrigger=PropertyChanged}" x:Name="minPrice_textbox" Width="75" Height="30" FontSize="20"/>
                <Separator MaxWidth="80" Width="40" Visibility="Hidden"/>
                <TextBox Text="{Binding MaxPrice, UpdateSourceTrigger=PropertyChanged}" x:Name="maxprice_textbox" Width="75" Height="30" FontSize="20"/>
            </StackPanel>
        </StackPanel>

        <Button x:Name="admin_addship" Command="{Binding AddShipCommand}" Visibility="{Binding IsAdmin, Converter={StaticResource BoolToVisibilityConverter}}" Style="{StaticResource AdminAddShipButtonStyle}" Grid.Row="2" Content="{DynamicResource AddShip}" Height="50" FontSize="18" VerticalAlignment="Bottom" Margin="0 0 0 170"/>
        <Button x:Name="admin_adminpanel" Command="{Binding AdminPanelCommand}" Visibility="{Binding IsAdmin, Converter={StaticResource BoolToVisibilityConverter}}" Grid.Row="2" Content="{DynamicResource AdminPanel}" Height="50" FontSize="16" VerticalAlignment="Bottom" Margin="0 0 0 90"/>
        <!--<Button x:Name="usercabinet_button" Command="{Binding UserProfileCommand}" Grid.Row="2" Height="50" FontSize="18" Content="Личный кабинет" VerticalAlignment="Bottom"/>-->
       <!-- удалить--> <Button x:Name="usercabinet_button" Command="vm:ItemsListViewModel.UserProfileCommand" Grid.Row="2" Height="50" FontSize="18" Content="Личный кабинет" VerticalAlignment="Bottom"/>
    </Grid>
</Window>