<Window x:Class="lab4.adminPanel"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:lab4"
        xmlns:vm="clr-namespace:lab4.ViewModels"
        mc:Ignorable="d" Background="{DynamicResource BackgroundColor}"
        Title="Admin Panel" Height="450" Width="800">

    <Window.DataContext>
        <vm:AdminPanelViewModel/>
    </Window.DataContext>

    <Grid>
        <TabControl>
            <TabItem Header="Ships">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding Ships}" x:Name="ShipList">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="Gray" BorderThickness="1" Margin="5" Padding="10">
                                    <StackPanel Width="200" Orientation="Vertical">
                                        <Image Source="{Binding ImagePath}" MaxHeight="150" Stretch="UniformToFill" />
                                        <TextBlock Text="{Binding Name}" FontSize="18" />
                                        <TextBlock Text="{Binding Price}" FontSize="18" />

                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                            <Button Content="{DynamicResource Edit}" Width="85" Margin="5" 
                                                    Command="{Binding DataContext.EditCommand, RelativeSource={RelativeSource AncestorType=Window}}"  
                                                    CommandParameter="{Binding}" FontSize="12"/>
                                            <Button Command="{Binding DataContext.DeleteCommand, RelativeSource={RelativeSource AncestorType=Window}}" 
                                                    Content="{DynamicResource Delete}" Width="85" Margin="5"  
                                                    CommandParameter="{Binding}" FontSize="12"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </TabItem>

            <TabItem Header="Users">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding Users}" x:Name="UserList">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="Gray" BorderThickness="1" Margin="5" Padding="10">
                                    <StackPanel Width="200" Orientation="Vertical">
                                        <TextBlock Text="{Binding Username}" FontSize="18" />
                                        <TextBlock Text="{Binding Role}" FontSize="18" />
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                            <Button Content="{DynamicResource Edit}" Width="85" Margin="5" 
                                                    Command="{Binding DataContext.EditUserCommand, RelativeSource={RelativeSource AncestorType=Window}}"  
                                                    CommandParameter="{Binding}" FontSize="12"/>
                                            <Button Command="{Binding DataContext.DeleteUserCommand, RelativeSource={RelativeSource AncestorType=Window}}" 
                                                    Content="{DynamicResource Delete}" Width="85" Margin="5"  
                                                    CommandParameter="{Binding}" FontSize="12"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </TabItem>

            <TabItem Header="Rentals">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding Requests}" x:Name="RentalList">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="Gray" BorderThickness="1" Margin="5" Padding="10">
                                    <StackPanel Width="200" Orientation="Vertical">
                                        <TextBlock Text="{Binding ShipId}" FontSize="18" />
                                        <TextBlock Text="{Binding UserId}" FontSize="18" />
                                        <TextBlock Text="{Binding StartDate}" FontSize="18" />
                                        <TextBlock Text="{Binding EndDate}" FontSize="18" />
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                            <Button Content="{DynamicResource Edit}" Width="85" Margin="5" 
                                                    Command="{Binding DataContext.EditRentalCommand, RelativeSource={RelativeSource AncestorType=Window}}"  
                                                    CommandParameter="{Binding}" FontSize="12"/>
                                            <Button Command="{Binding DataContext.DeleteRentalCommand, RelativeSource={RelativeSource AncestorType=Window}}" 
                                                    Content="{DynamicResource Delete}" Width="85" Margin="5"  
                                                    CommandParameter="{Binding}" FontSize="12"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</Window>